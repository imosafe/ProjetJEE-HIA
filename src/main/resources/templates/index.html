<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout('Accueil - ProTeams', ~{::section})}">

<body>

<section>

    <link href="https://fonts.googleapis.com/css2?family=Saira+Extra+Condensed:wght@400;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

    <style>
        /* =========================================
           1. SECTION HAUT (3D) - INCHANGÉ
           ========================================= */
        .portal-wrapper {
            width: 100vw;
            min-height: 85vh;
            position: relative;
            left: 50%; right: 50%;
            margin-left: -50vw; margin-right: -50vw;
            font-family: 'Saira Extra Condensed', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            padding: 40px 0;
            z-index: 10;
        }

        .header-content { text-align: center; margin-bottom: 50px; z-index: 10; }
        .main-headline { font-size: 4rem; color: #080707; text-transform: uppercase; font-weight: 900; line-height: 1; letter-spacing: 2px; margin-bottom: 10px; }
        .sub-headline { color: #ff4655; font-size: 1.5rem; text-transform: uppercase; font-weight: 700; letter-spacing: 4px; }

        .portals-container { display: flex; justify-content: center; width: 98%; max-width: 1900px; height: 600px; position: relative; perspective: 2500px; transform-style: preserve-3d; }

        @keyframes swapRotateWide {
            0%, 20% { transform: translateX(-33vw) rotateY(25deg) translateZ(-100px); z-index: 1; opacity: 0.6; }
            25%, 45% { transform: translateX(-11vw) rotateY(5deg) translateZ(0px); z-index: 10; opacity: 1; }
            50%, 70% { transform: translateX(11vw) rotateY(-5deg) translateZ(0px); z-index: 10; opacity: 1; }
            75%, 95% { transform: translateX(33vw) rotateY(-25deg) translateZ(-100px); z-index: 1; opacity: 0.6; }
            100% { transform: translateX(-33vw) rotateY(25deg) translateZ(-100px); z-index: 0; opacity: 0.6; }
        }

        .game-portal { position: absolute; top: 0; width: 420px; height: 580px; border-radius: 15px; overflow: hidden; text-decoration: none; border: 1px solid rgba(0,0,0,0.1); box-shadow: 0 20px 50px rgba(0,0,0,0.2); background: #0b0e14; transition: border-color 0.3s, box-shadow 0.3s, z-index 0s; animation: swapRotateWide 20s infinite ease-in-out; }
        .game-portal:nth-child(1) { animation-delay: 0s; }
        .game-portal:nth-child(2) { animation-delay: -5s; } 
        .game-portal:nth-child(3) { animation-delay: -10s; }
        .game-portal:nth-child(4) { animation-delay: -15s; }
        .portals-container:hover .game-portal { animation-play-state: paused; }

        .portal-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; transition: transform 0.4s ease, filter 0.4s ease; filter: brightness(0.5) grayscale(30%); }
        .portal-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to top, rgba(0,0,0,0.95) 10%, rgba(0,0,0,0.6) 50%, transparent 100%); z-index: 1; }
        .portal-content { position: absolute; bottom: 0; left: 0; width: 100%; padding: 40px; z-index: 2; transform: translateZ(20px); }
        .portal-title { color: white; font-size: 3.5rem; font-weight: 900; text-transform: uppercase; line-height: 0.9; margin-bottom: 10px; text-shadow: 2px 2px 0px rgba(0,0,0,0.8); }
        .portal-desc { color: #ccc; font-size: 1.1rem; font-family: 'Roboto', sans-serif; line-height: 1.4; max-height: 0; opacity: 0; overflow: hidden; transition: all 0.4s ease; transform: translateY(20px); margin-bottom: 0; }
        .portal-action { color: #ff4655; font-size: 1.3rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-top: 15px; display: flex; align-items: center; gap: 10px; transition: 0.3s; }
        
        .game-portal:hover { z-index: 1000 !important; border-color: #ff4655; box-shadow: 0 0 60px rgba(255, 70, 85, 0.5); cursor: pointer; }
        .game-portal:hover .portal-bg { filter: brightness(1) grayscale(0%); transform: scale(1.2); }
        .game-portal:hover .portal-desc { max-height: 150px; opacity: 1; transform: translateY(0); margin-bottom: 20px; }
        .game-portal:hover .portal-action { color: white; padding-left: 15px; }

        .user-pill { display: inline-flex; align-items: center; background: #f8f9fa; border: 1px solid #dee2e6; padding: 8px 20px; margin-bottom: 20px; padding: 12px 35px; /* Plus d'espace autour */
            font-size: 1.3rem;  /* Texte plus grand */
            margin-bottom: 30px; /* Plus d'espace sous le badge */
            box-shadow: 0 5px 15px rgba(0,0,0,0.05); }

        @media (max-width: 992px) {
            .portals-container { flex-direction: column; perspective: none; width: 100%; height: auto; gap: 20px; }
            .portals-container:hover .game-portal { animation-play-state: running; }
            .game-portal { position: relative; width: 100%; height: 280px; animation: none; transform: none !important; left: auto !important; opacity: 1 !important; }
            .portal-desc { max-height: 100px; opacity: 1; transform: none; margin-bottom: 10px; }
        }

        /* =========================================
           2. SECTION DÉTAILS - COLOR BLOCKING
           ========================================= */
        .details-section {
            width: 100vw;
            position: relative;
            left: 50%; right: 50%;
            margin-left: -50vw; margin-right: -50vw;
            z-index: 20;
        }

        /* CONFIGURATION GÉNÉRALE DES STRIPS */
        .split-strip {
            display: flex;
            width: 100%;
            min-height: 700px;
            align-items: stretch;
        }
        .split-strip.reverse { flex-direction: row-reverse; }

        /* IMAGES 50% */
        .split-image {
            width: 50%;
            position: relative;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* CONTENU TEXTE 50% */
        .split-content {
            width: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 5rem 6rem; /* Gros padding pour respirer */
            transition: all 0.3s ease;
        }

        /* --- THEMES DE COULEURS PAR BLOC --- */

        /* BLOC 1: DARK (NOIR) - Tournois */
        .split-strip:nth-of-type(1) .split-content {
            background-color: #0b0e14; /* Noir profond */
        }
        .split-strip:nth-of-type(1) .feature-title { color: white; }
        .split-strip:nth-of-type(1) .feature-desc { color: #b0b3b8; }
        .split-strip:nth-of-type(1) .btn-split { color: white; border-color: #ff4655; }
        .split-strip:nth-of-type(1) .btn-split:hover { background: #ff4655; border-color: #ff4655; }

        /* BLOC 2: LIGHT (BLANC) - Equipes */
        .split-strip:nth-of-type(2) .split-content {
        }
        .split-strip:nth-of-type(2) .feature-title { color: #1a1a1a; }
        .split-strip:nth-of-type(2) .feature-desc { color: #555; }
        .split-strip:nth-of-type(2) .btn-split { color: #1a1a1a; border-color: #1a1a1a; }
        .split-strip:nth-of-type(2) .btn-split:hover { background: #1a1a1a; color: white; }

        /* BLOC 3: BRAND (ROUGE SOMBRE) - Ladder */
        .split-strip:nth-of-type(3) .split-content {
            background-color: #8a0e18; /* Rouge ProTeams un peu assombri pour le texte */
        }
        .split-strip:nth-of-type(3) .feature-label { color: #ffffff; opacity: 0.7; }
        .split-strip:nth-of-type(3) .feature-title { color: white; }
        .split-strip:nth-of-type(3) .feature-desc { color: #e0e0e0; }
        .split-strip:nth-of-type(3) .separator-line { background: white; }
        /* Bouton Blanc sur fond Rouge */
        .split-strip:nth-of-type(3) .btn-split { color: white; border-color: white; }
        .split-strip:nth-of-type(3) .btn-split:hover { background: white; color: #8a0e18; }

        /* BLOC 4: DARK GRAY - Agenda */
        .split-strip:nth-of-type(4) .split-content {
            background-color: #151820; /* Gris anthracite */
        }
        .split-strip:nth-of-type(4) .feature-title { color: white; }
        .split-strip:nth-of-type(4) .feature-desc { color: #b0b3b8; }
        .split-strip:nth-of-type(4) .btn-split { color: white; border-color: #ff4655; }
        .split-strip:nth-of-type(4) .btn-split:hover { background: #ff4655; border-color: #ff4655; }


        /* TYPOGRAPHIE ET ELEMENTS COMMUNS */
        .feature-label {
            color: #ff4655;
            font-family: 'Saira Extra Condensed', sans-serif;
            font-weight: 700;
            letter-spacing: 3px;
            text-transform: uppercase;
            font-size: 1.2rem;
            margin-bottom: 20px;
            display: block;
        }

        .feature-title {
            font-family: 'Saira Extra Condensed', sans-serif;
            font-size: 4.5rem;
            font-weight: 900;
            text-transform: uppercase;
            line-height: 0.9;
            margin-bottom: 30px;
        }

        .feature-desc {
            font-size: 1.25rem;
            line-height: 1.6;
            margin-bottom: 40px;
            font-family: 'Roboto', sans-serif;
            font-weight: 300;
            max-width: 600px;
        }

        .separator-line {
            width: 80px;
            height: 6px;
            background: #ff4655;
            margin-bottom: 30px;
        }

        .btn-split {
            align-self: flex-start;
            background: transparent;
            padding: 15px 40px;
            font-family: 'Saira Extra Condensed', sans-serif;
            font-weight: 700;
            font-size: 1.3rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-decoration: none;
            transition: all 0.3s ease;
            border: 2px solid;
        }
        
        .btn-split i { margin-left: 10px; }

        /* MOBILE */
        @media (max-width: 992px) {
            .split-strip, .split-strip.reverse { flex-direction: column; min-height: auto; }
            .split-image { width: 100%; height: 300px; }
            .split-content { width: 100%; padding: 3rem 1.5rem; }
            .feature-title { font-size: 3rem; }
        }
    </style>

    <div class="portal-wrapper">
        <div class="header-content">
            <div th:if="${session.user != null}">
                <div class="user-pill">
                    <i class="bi bi-circle-fill text-success me-2" style="font-size: 1rem;"></i>
                    <span class="text-dark text-uppercase fw-bold me-1">Agent :</span>
                    <span class="text-danger fw-bold" th:text="${session.user.username}">PSEUDO</span>
                </div>
                <h1 class="main-headline">PRÊT À GAGNER ?</h1>
                <p class="sub-headline">CHOISIS TON CHAMP DE BATAILLE</p>
            </div>
            <div th:if="${session.user == null}">
                <h1 class="main-headline">REJOINS L'ÉLITE</h1>
                <p class="sub-headline">LA COMPÉTITION COMMENCE ICI</p>
                <div class="mt-4">
                    <a href="/register" class="btn btn-danger btn-lg rounded-0 fw-bold px-5" style="transform: skewX(-10deg);">CRÉER UN COMPTE</a>
                    <p class="mt-2 text-muted ">Déjà membre ? <a href="/login" class="text-dark fw-bold">Connexion</a></p>
                </div>
            </div>
        </div>

        <div class="portals-container">
            <a href="/tournaments" class="game-portal">
                <div class="portal-bg" style="background-image: url('/images/TOURNOIS.jpeg');"></div>
                <div class="portal-overlay"></div>
                <div class="portal-content">
                    <div class="portal-title">TOURNOIS</div>
                    <p class="portal-desc">Participe aux compétitions officielles, affronte les meilleurs et remporte des prix exclusifs.</p>
                    <div class="portal-action">VOIR LES MATCHS <i class="bi bi-arrow-right"></i></div>
                </div>
            </a>
            <a href="/teams" class="game-portal">
                <div class="portal-bg" style="background-image: url('/images/TEAM.jpg');"></div>
                <div class="portal-overlay"></div>
                <div class="portal-content">
                    <div class="portal-title">ÉQUIPES</div>
                    <p class="portal-desc">Trouve tes coéquipiers, gère ton roster et grimpe les échelons du succès collectif.</p>
                    <div class="portal-action">RECRUTEMENT <i class="bi bi-arrow-right"></i></div>
                </div>
            </a>
            <a href="/ladder" class="game-portal">
                <div class="portal-bg" style="background-image: url('/images/CLASSEMENT.jpg');"></div>
                <div class="portal-overlay"></div>
                <div class="portal-content">
                    <div class="portal-title">LADDER</div>
                    <p class="portal-desc">Consulte le classement mondial en temps réel et vise la première place du podium.</p>
                    <div class="portal-action">CLASSEMENT <i class="bi bi-arrow-right"></i></div>
                </div>
            </a>
            <a href="/planning" class="game-portal">
                <div class="portal-bg" style="background-image: url('/images/AGENDA.jpeg');"></div>
                <div class="portal-overlay"></div>
                <div class="portal-content">
                    <div class="portal-title">AGENDA</div>
                    <p class="portal-desc">Ne rate aucun événement ! Consulte le calendrier des matchs et des tournois à venir.</p>
                    <div class="portal-action">PLANNING <i class="bi bi-calendar-event"></i></div>
                </div>
            </a>
        </div>
    </div> 

        <br><br>

    <div class="details-section">

        <div class="split-strip">
            <div class="split-image" style="background-image: url('/images/TOURNOIS.jpeg');"></div>
            <div class="split-content">
                <span class="feature-label">// COMPÉTITION</span>
                <h2 class="feature-title">Dominez<br>L'Arène</h2>
                <div class="separator-line"></div>
                <p class="feature-desc">
                    Rejoignez les tournois les plus prestigieux de la scène amateur et semi-pro. 
                    Que vous soyez sur League of Legends, Valorant ou Rocket League, prouvez votre valeur dans des brackets à élimination directe.
                </p>
                <a href="/tournaments" class="btn-split">
                    Voir les Tournois <i class="bi bi-trophy-fill"></i>
                </a>
            </div>
        </div>

        <br><br><br><br>

        <div class="split-strip reverse">
            <div class="split-image" style="background-image: url('/images/TEAM.jpg');"></div>
            <div class="split-content">
                <span class="feature-label">// COMMUNAUTÉ</span>
                <h2 class="feature-title">Formez Votre<br>Squad</h2>
                <div class="separator-line"></div>
                <p class="feature-desc">
                    Ne jouez plus jamais seul. Utilisez notre système de recrutement avancé pour trouver des coéquipiers qui correspondent à votre niveau. Créez votre structure, gérez votre roster et assignez des rôles.
                </p>
                <a href="/teams" class="btn-split">
                    Trouver une équipe <i class="bi bi-people-fill"></i>
                </a>
            </div>
        </div>

        <br><br><br><br>
        <div class="split-strip">
            <div class="split-image" style="background-image: url('/images/CLASSEMENT.jpg');"></div>
            <div class="split-content">
                <span class="feature-label">// CLASSEMENT</span>
                <h2 class="feature-title">Visez le<br>Sommet</h2>
                <div class="separator-line"></div>
                <p class="feature-desc">
                    Chaque victoire compte. Notre système de Ladder ELO dynamique calcule vos performances en temps réel. Grimpez les échelons, passez de Bronze à Challenger et faites-vous repérer.
                </p>
                <a href="/ladder" class="btn-split">
                    Consulter le Ladder <i class="bi bi-bar-chart-line-fill"></i>
                </a>
            </div>
        </div>

        <br><br><br><br>
        <div class="split-strip reverse">
            <div class="split-image" style="background-image: url('/images/AGENDA.jpeg');"></div>
            <div class="split-content">
                <span class="feature-label">// PLANNING</span>
                <h2 class="feature-title">Maîtrisez<br>Le Temps</h2>
                <div class="separator-line"></div>
                <p class="feature-desc">
                    Une organisation sans faille est la clé du succès. Accédez à l'agenda complet des événements E-Sport à venir. Inscrivez-vous aux scrims, planifiez vos entraînements d'équipe.
                </p>
                <a href="/planning" class="btn-split">
                    Voir l'Agenda <i class="bi bi-calendar-check-fill"></i>
                </a>
            </div>
        </div>

    </div>

</section>
        <br><br><br><br>


</body>
</html>